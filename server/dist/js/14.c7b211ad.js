"use strict";(self["webpackChunktenderhack"]=self["webpackChunktenderhack"]||[]).push([[14],{6235:function(e,i,t){t.d(i,{Z:function(){return v}});var n=t(3396),a=t(7139),r=t(9242);const s=["id","accept","required"],l=["for"],d={key:0},u={class:"button"},o=["for"],c={key:0},g={class:"button"};function p(e,i,t,p,f,m){return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)([t.usedrag?"dragndrop":"","input-file"])},[(0,n.wy)((0,n._)("input",{id:f.id,accept:t.accept?t.accept:"*/*",required:!!t.required&&t.required,title:"",type:"file",onChange:i[0]||(i[0]=e=>m.change(e))},null,40,s),[[r.F8,!!t.usedrag&&t.usedrag]]),t.usedrag&&t.usedrag?((0,n.wg)(),(0,n.iD)("label",{key:0,for:f.id},[f.filename?((0,n.wg)(),(0,n.iD)("p",d,(0,a.zw)(f.filename?`${f.filename}`:"перенесите или"),1)):(0,n.kq)("",!0),(0,n._)("div",u,(0,a.zw)(f.filename?"изменить":"выбрерите файл"),1)],8,l)):((0,n.wg)(),(0,n.iD)("label",{key:1,for:f.id},[f.filename?((0,n.wg)(),(0,n.iD)("p",c,(0,a.zw)(f.filename),1)):(0,n.kq)("",!0),(0,n._)("div",g,(0,a.zw)(f.filename?"изменить":"выбрерите файл"),1)],8,o))],2)}var f={name:"fileinput",props:["usedrag","accept","required"],data(){return{id:null,filename:null}},mounted(){this.id=this.componentId},methods:{change(e){this.filename=e.target.value.split("\\")[e.target.value.split("\\").length-1]}}},m=t(89);const h=(0,m.Z)(f,[["render",p],["__scopeId","data-v-2d521d92"]]);var v=h},8014:function(e,i,t){t.r(i),t.d(i,{default:function(){return m}});var n=t(3396),a=t(7139),r=t(9242);const s={key:0,class:"m"},l={key:1,class:"m"},d={key:0,type:"submit"};function u(e,i,t,u,o,c){const g=(0,n.up)("fileinput");return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)([o.isloading?"loading":"","container"])},[o.isloading?((0,n.wg)(),(0,n.iD)("h1",l,"Подождите сервис обрабатывает данные (примерно осталось: "+(0,a.zw)(o.time)+"сек)",1)):((0,n.wg)(),(0,n.iD)("h1",s,"Перетащите или прикрепите файл, для обновления данных")),o.isloading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",{key:2,onSubmit:i[1]||(i[1]=(0,r.iM)(((...e)=>c.submit&&c.submit(...e)),["prevent"]))},[(0,n.Wm)(g,{accept:".csv",usedrag:"true",onChange:i[0]||(i[0]=e=>o.file=e)}),o.file?((0,n.wg)(),(0,n.iD)("button",d,"загрузить")):(0,n.kq)("",!0)],32))],2)}var o=t(6235),c=t(7877),g={name:"panel",components:{Fileinput:o.Z},data(){return{isloading:!1,file:void 0,time:300}},mounted(){},methods:{submit(){this.isloading=!0;let e=setInterval((()=>{this.time>0?this.time--:(clearInterval(e),this.time=300,this.isloading=!1)}),1e3),i=new FormData;i.append("file",this.file.target.files[0]),c.Z.post("/upload",void 0).then((e=>{})).catch((e=>{console.log(e)}))}}},p=t(89);const f=(0,p.Z)(g,[["render",u],["__scopeId","data-v-ede1e5e6"]]);var m=f}}]);
//# sourceMappingURL=14.c7b211ad.js.map