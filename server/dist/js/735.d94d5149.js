"use strict";(self["webpackChunktenderhack"]=self["webpackChunktenderhack"]||[]).push([[735],{6235:function(e,i,t){t.d(i,{Z:function(){return v}});var n=t(3396),a=t(7139),l=t(9242);const s=["id","accept","required"],r=["for"],d={key:0},o={class:"button"},u=["for"],c={key:0},g={class:"button"};function f(e,i,t,f,p,m){return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)([t.usedrag?"dragndrop":"","input-file"])},[(0,n.wy)((0,n._)("input",{id:p.id,accept:t.accept?t.accept:"*/*",required:!!t.required&&t.required,title:"",type:"file",onChange:i[0]||(i[0]=e=>m.change(e))},null,40,s),[[l.F8,!!t.usedrag&&t.usedrag]]),t.usedrag&&t.usedrag?((0,n.wg)(),(0,n.iD)("label",{key:0,for:p.id},[p.filename?((0,n.wg)(),(0,n.iD)("p",d,(0,a.zw)(p.filename?`${p.filename}`:"перенесите или"),1)):(0,n.kq)("",!0),(0,n._)("div",o,(0,a.zw)(p.filename?"изменить":"выбрерите файл"),1)],8,r)):((0,n.wg)(),(0,n.iD)("label",{key:1,for:p.id},[p.filename?((0,n.wg)(),(0,n.iD)("p",c,(0,a.zw)(p.filename),1)):(0,n.kq)("",!0),(0,n._)("div",g,(0,a.zw)(p.filename?"изменить":"выбрерите файл"),1)],8,u))],2)}var p={name:"fileinput",props:["usedrag","accept","required"],data(){return{id:null,filename:null}},mounted(){this.id=this.componentId},methods:{change(e){this.filename=e.target.value.split("\\")[e.target.value.split("\\").length-1]}}},m=t(89);const h=(0,m.Z)(p,[["render",f],["__scopeId","data-v-2d521d92"]]);var v=h},9735:function(e,i,t){t.r(i),t.d(i,{default:function(){return m}});var n=t(3396),a=t(7139),l=t(9242);const s={key:0,class:"m"},r={key:1,class:"m"},d={key:0,type:"submit"};function o(e,i,t,o,u,c){const g=(0,n.up)("fileinput");return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)([u.isloading?"loading":"","container"])},[u.isloading?((0,n.wg)(),(0,n.iD)("h1",r,"Подождите сервис обрабатывает данные (примерно осталось: "+(0,a.zw)(u.time)+"сек)",1)):((0,n.wg)(),(0,n.iD)("h1",s,"Перетащите или прикрепите файл, для обновления данных")),u.isloading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",{key:2,onSubmit:i[1]||(i[1]=(0,l.iM)(((...e)=>c.submit&&c.submit(...e)),["prevent"]))},[(0,n.Wm)(g,{accept:".csv",usedrag:"true",onChange:i[0]||(i[0]=e=>u.file=e)}),u.file?((0,n.wg)(),(0,n.iD)("button",d,"загрузить")):(0,n.kq)("",!0)],32))],2)}var u=t(6235),c=t(7877),g={name:"panel",components:{Fileinput:u.Z},data(){return{isloading:!1,file:void 0,time:300}},mounted(){},methods:{submit(){this.isloading=!0;let e=setInterval((()=>{this.time>0?this.time--:(clearInterval(e),this.time=300,this.isloading=!1)}),1e3),i=new FormData;i.append("file",this.file.target.files[0]),c.Z.upload("upload",void 0,i).then((i=>{console.log(i),this.isloading=!1,this.time=300,clearInterval(e),this.file=void 0})).catch((e=>{console.log(e)}))}}},f=t(89);const p=(0,f.Z)(g,[["render",o],["__scopeId","data-v-2be72456"]]);var m=p}}]);
//# sourceMappingURL=735.d94d5149.js.map